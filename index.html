<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  
  
    <meta name="description" content="秦佳庆的博客">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>
    
    秦佳庆</title>
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">
  
  <script src="/js/pace.min.js"></script>
</head>

<body>
<main class="content">
  <section class="jumbotron">
  <div class="video">
    
      <div class="video-frame">
        <img src="/images/ocean/overlay-hero.png" alt="Decorative image frame">
      </div>
    
    <div class="video-media">
      <video playsinline="" autoplay="" loop="" muted="" data-autoplay=""
             poster="/images/ocean/ocean.png" x5-video-player-type="h5">
        <source src="/images/ocean/ocean.mp4" type="video/mp4">
        <source src="/images/ocean/ocean.ogv" type="video/ogg">
        <source src="/images/ocean/ocean.webm" type="video/webm">
        <p>Your user agent does not support the HTML5 Video element.</p>
      </video>
      <div class="video-overlay"></div>
    </div>
    <div class="video-inner text-center text-white">
      <h1><a href="/">秦佳庆</a></h1>
      <p class="jinrishici-sentence"></p>
      <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js"></script>
      <div><img src="/images/hexo-inverted.svg" class="brand" alt="秦佳庆"></div>
    </div>
    <div class="video-learn-more">
      <a class="anchor" href="#landingpage"><i class="fe fe-mouse"></i></a>
    </div>
  </div>
</section>

<div id="landingpage">
  <section class="outer">
  <article class="articles">
    
    <h1 class="page-type-title"></h1>

    
      
        

<article id="post-js中的Array-from-函数" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/2019/11/30/js%E4%B8%AD%E7%9A%84Array-from-%E5%87%BD%E6%95%B0/">js中的Array.from()函数</a>
    </h2>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/2019/11/30/js%E4%B8%AD%E7%9A%84Array-from-%E5%87%BD%E6%95%B0/" class="article-date">
  <time datetime="2019-11-30T07:14:31.000Z" itemprop="datePublished">2019-11-30</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/javascript/">javascript</a>
  </div>

      </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
        <h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(arrayLike[, mapFn[, thisArg]])</span><br></pre></td></tr></table></figure>
<ul>
<li><code>arrayLike</code>：必传参数，想要转换成数组的伪数组对象或可迭代对象。</li>
<li><code>mapFunction</code>：可选参数，<code>mapFunction(item，index){...}</code> 是在集合中的每个项目上调用的函数。返回的值将插入到新集合中。</li>
<li><code>thisArg</code>：可选参数，执行回调函数 <code>mapFunction</code> 时 <code>this</code> 对象。这个参数很少使用。</li>
</ul>
<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><h3 id="将类数组转换成数组"><a href="#将类数组转换成数组" class="headerlink" title="将类数组转换成数组"></a>将类数组转换成数组</h3><p><code>Array.from()</code>第一个用途：将类数组对象转换成数组。<br>通常，你会碰到的类数组对象有：函数中的<code>arguments</code>关键字，或者是一个<code>DOM</code>集合。<br>例如下面，对函数的参数进行求和</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sumArguments</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>).reduce(<span class="function">(<span class="params">sum, num</span>) =&gt;</span> sum + num);</span><br><span class="line">&#125;</span><br><span class="line">sumArguments(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>); <span class="comment">// =&gt; 6</span></span><br></pre></td></tr></table></figure>
<p><code>Array.from(arguments)</code>将类数组对象<code>arguments</code>转换成一个数组，然后使用数组的 <code>reduce</code>方法求和。<br>此外，<code>Array.from()</code>的第一个参数可以是任意一个可迭代对象，我们继续看一些例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(<span class="string">'Hey'</span>);                   <span class="comment">// =&gt; ['H', 'e', 'y']</span></span><br><span class="line"><span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'one'</span>, <span class="string">'two'</span>])); <span class="comment">// =&gt; ['one', 'two']</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">map.set(<span class="string">'one'</span>, <span class="number">1</span>)</span><br><span class="line">map.set(<span class="string">'two'</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.from(map); <span class="comment">// =&gt; [['one', 1], ['two', 2]]</span></span><br></pre></td></tr></table></figure>
<h3 id="克隆一个数组"><a href="#克隆一个数组" class="headerlink" title="克隆一个数组"></a>克隆一个数组</h3><p>在 JavaScript 中有很多克隆数组的方法。正如你所想，Array.from() 可以很容易的实现数组的浅拷贝</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [<span class="number">3</span>, <span class="number">6</span>, <span class="number">9</span>];</span><br><span class="line"><span class="keyword">const</span> numbersCopy = <span class="built_in">Array</span>.from(numbers);</span><br><span class="line">numbers === numbersCopy; <span class="comment">// =&gt; false</span></span><br></pre></td></tr></table></figure>
<p><code>Array.from(numbers)</code>创建了对<code>numbers</code>数组的浅拷贝，<code>numbers === numbersCopy</code>的结果是<code>false</code>，意味着虽然<code>numbers</code>和<code>numbersCopy</code>有着相同的项，但是它们是不同的数组对象。<br>是否可以使用<code>Array.from()</code>创建数组的克隆，包括所有嵌套的？挑战一下！</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">recursiveClone</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.isArray(val) ? <span class="built_in">Array</span>.from(val, recursiveClone) : val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> numbers = [[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>], [<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>]];</span><br><span class="line"><span class="keyword">const</span> numbersClone = recursiveClone(numbers);</span><br><span class="line"></span><br><span class="line">numbersClone; <span class="comment">// =&gt; [[0, 1, 2], ['one', 'two', 'three']]</span></span><br><span class="line">numbers[<span class="number">0</span>] === numbersClone[<span class="number">0</span>] <span class="comment">// =&gt; false</span></span><br></pre></td></tr></table></figure>
<p><code>recursiveClone()</code>能够对数组的深拷贝，通过判断 数组的<code>item</code>是否是一个数组，如果是数组，就继续调用<code>recursiveClone()</code>来实现了对数组的深拷贝。</p>
<h3 id="使用值填充数组"><a href="#使用值填充数组" class="headerlink" title="使用值填充数组"></a>使用值填充数组</h3><p>如果你需要使用相同的值来初始化数组，那么<code>Array.from()</code>将是不错的选择。<br>我们来定义一个函数，创建一个填充相同默认值的数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> length = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">const</span> init   = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> result = <span class="built_in">Array</span>.from(&#123; length &#125;, () =&gt; init);</span><br><span class="line"></span><br><span class="line">result; <span class="comment">// =&gt; [0, 0, 0]</span></span><br></pre></td></tr></table></figure>
<p><code>result</code>是一个新的数组，它的长度为<code>3</code>，数组的每一项都是<code>0</code>。调用 <code>Array.from()</code> 方法，传入一个类数组对象 <code>{ length }</code> 和 返回初始化值的 <code>mapFunction</code> 函数。<br>但是，有一个替代方法 <code>array.fill()</code> 可以实现同样的功能</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> length = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">const</span> init   = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> result = <span class="built_in">Array</span>(length).fill(init);</span><br><span class="line"></span><br><span class="line">fillArray2(<span class="number">0</span>, <span class="number">3</span>); <span class="comment">// =&gt; [0, 0, 0]</span></span><br></pre></td></tr></table></figure>
<p><code>fill()</code>使用初始值正确填充数组</p>
<h4 id="使用对象填充数组"><a href="#使用对象填充数组" class="headerlink" title="使用对象填充数组"></a>使用对象填充数组</h4><p>当初始化数组的每个项都应该是一个新对象时，<code>Array.from()</code> 是一个更好的解决方案：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> length = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">const</span> resultA = <span class="built_in">Array</span>.from(&#123; length &#125;, () =&gt; (&#123;&#125;));</span><br><span class="line"><span class="keyword">const</span> resultB = <span class="built_in">Array</span>(length).fill(&#123;&#125;);</span><br><span class="line"></span><br><span class="line">resultA; <span class="comment">// =&gt; [&#123;&#125;, &#123;&#125;, &#123;&#125;]</span></span><br><span class="line">resultB; <span class="comment">// =&gt; [&#123;&#125;, &#123;&#125;, &#123;&#125;]</span></span><br><span class="line"></span><br><span class="line">resultA[<span class="number">0</span>] === resultA[<span class="number">1</span>]; <span class="comment">// =&gt; false</span></span><br><span class="line">resultB[<span class="number">0</span>] === resultB[<span class="number">1</span>]; <span class="comment">// =&gt; true</span></span><br></pre></td></tr></table></figure>
<p>由 <code>Array.from</code> 返回的 <code>resultA</code> 使用不同空对象实例进行初始化。之所以发生这种情况是因为每次调用时，<code>mapFunction</code>，即此处的 <code>() =&gt; ({})</code> 都会返回一个新的对象。<br>然后，<code>fill()</code> 方法创建的 <code>resultB</code> 使用相同的空对象实例进行初始化。不会跳过空项。</p>
<h4 id="使用Array-map"><a href="#使用Array-map" class="headerlink" title="使用Array.map()?"></a>使用Array.map()?</h4><p>是不是可以使用 array.map() 方法来实现？我们来试一下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> length = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">const</span> init   = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> result = <span class="built_in">Array</span>(length).map(<span class="function"><span class="params">()</span> =&gt;</span> init);</span><br><span class="line"></span><br><span class="line">result; <span class="comment">// =&gt; [undefined, undefined, undefined]</span></span><br></pre></td></tr></table></figure>
<p><code>map()</code> 方法似乎不正常，创建出来的数组不是预期的 <code>[0, 0, 0]</code>，而是一个有3个空项的数组。<br>这是因为 <code>Array(length)</code> 创建了一个有3个空项的数组(也称为稀疏数组)，但是 <code>map()</code> 方法会跳过空项。</p>
<h3 id="生成数字范围"><a href="#生成数字范围" class="headerlink" title="生成数字范围"></a>生成数字范围</h3><p>你可以使用 <code>Array.from()</code> 生成值范围。例如，下面的 <code>range</code> 函数生成一个数组，从0开始到 <code>end - 1</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">range</span>(<span class="params">end</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: end &#125;, (_, index) =&gt; index);</span><br><span class="line">&#125;</span><br><span class="line">range(<span class="number">4</span>); <span class="comment">// =&gt; [0, 1, 2, 3]</span></span><br></pre></td></tr></table></figure>
<p>在 <code>range()</code> 函数中，<code>Array.from()</code> 提供了类似数组的 <code>{length：end}</code> ，以及一个简单地返回当前索引的 <code>map</code> 函数 。这样你就可以生成值范围。</p>
<h3 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h3><p>由于 <code>Array.from()</code>的入参是可迭代对象，因而我们可以利用其与 Set 结合来实现快速从数组中删除重复项。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">array</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(array));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">unique([<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>]); <span class="comment">// =&gt; [1, 2, 3]</span></span><br></pre></td></tr></table></figure>
<p>首先，<code>new Set(array)</code> 创建了一个包含数组的集合，<code>Set</code> 集合会删除重复项。因为 <code>Set</code> 集合是可迭代的，所以可以使用 <code>Array.from()</code> 将其转换为一个新的数组。这样，我们就实现了数组去重。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p><code>Array.from()</code> 方法接受类数组对象以及可迭代对象，它可以接受一个 <code>map</code> 函数，并且，这个 <code>map</code> 函数不会跳过值为 <code>undefined</code> 的数值项。这些特性给 <code>Array.from()</code> 提供了很多可能。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://chakinqin.github.io/2019/11/30/js%E4%B8%AD%E7%9A%84Array-from-%E5%87%BD%E6%95%B0/" data-id="ck3la6bdw0005c0tk07hfd578"
         class="article-share-link">分享</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li></ul>

    </footer>

  </div>

  

  

</article>



      
        

<article id="post-js中的reduce-方法" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/2019/11/30/js%E4%B8%AD%E7%9A%84reduce-%E6%96%B9%E6%B3%95/">js中的reduce()方法</a>
    </h2>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/2019/11/30/js%E4%B8%AD%E7%9A%84reduce-%E6%96%B9%E6%B3%95/" class="article-date">
  <time datetime="2019-11-30T06:00:09.000Z" itemprop="datePublished">2019-11-30</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/javascript/">javascript</a>
  </div>

      </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
        <h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">total, currentValue, currentIndex, arr</span>),<span class="title">initialValue</span>)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>total : 必须，初始值或者计算后返回的值</li>
<li>currentValue : 必须，当前元素</li>
<li>currentIndex : 可选，当前元素的索引</li>
<li>arr : 可选，当前元素的所属对象</li>
<li>initialValue : 可选，传递给函数的初始值</li>
</ul>
<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><p>先声明一个原始数组arr</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">3</span>,<span class="number">9</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">9</span>];</span><br></pre></td></tr></table></figure>
<h3 id="求数组各项之和"><a href="#求数组各项之和" class="headerlink" title="求数组各项之和"></a>求数组各项之和</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sum = arr.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">prev, cur</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> prev + cur;</span><br><span class="line">&#125;,<span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<p>由于传入了初始值0，所以开始时prev的值为0，cur的值为数组第一项3，相加之后返回值为3作为下一轮回调的prev值，然后再继续与下一个数组项相加，以此类推，直至完成所有数组项的和并返回。</p>
<h3 id="求数组项最大值"><a href="#求数组项最大值" class="headerlink" title="求数组项最大值"></a>求数组项最大值</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> max = arr.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">prev, cur</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.max(prev,cur);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>由于未传入初始值，所以开始时prev的值为数组第一项3，cur的值为数组第二项9，取两值最大值后继续进入下一轮回调。</p>
<h3 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> newArr = arr.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">prev, cur</span>) </span>&#123;</span><br><span class="line">    prev.indexOf(cur) === <span class="number">-1</span> &amp;&amp; prev.push(cur);</span><br><span class="line">    <span class="keyword">return</span> prev;</span><br><span class="line">&#125;,[]);</span><br></pre></td></tr></table></figure>
<ol>
<li>初始化一个空数组</li>
<li>将需要去重处理的数组中的第1项在初始化数组中查找，如果找不到（空数组中肯定找不到），就将该项添加到初始化数组中</li>
<li>将需要去重处理的数组中的第2项在初始化数组中查找，如果找不到，就将该项继续添加到初始化数组中</li>
<li>…</li>
<li>将需要去重处理的数组中的第n项在初始化数组中查找，如果找不到，就将该项继续添加到初始化数组中</li>
<li>将这个初始化数组返回</li>
</ol>
<h3 id="统计数组中每项出现的次数"><a href="#统计数组中每项出现的次数" class="headerlink" title="统计数组中每项出现的次数"></a>统计数组中每项出现的次数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev,cur</span>)</span>&#123;</span><br><span class="line">    prev[cur] = (prev[cur] + <span class="number">1</span>) || <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> prev;</span><br><span class="line">&#125;,&#123;&#125;);</span><br><span class="line"><span class="comment">//&#123;0: 1, 3: 2, 4: 1, 6: 1, 9: 2&#125;</span></span><br></pre></td></tr></table></figure>
<p>原理同<strong>数组去重</strong>。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p><code>reduce()</code> 是数组的归并方法，与<code>forEach()</code>、<code>map()</code>、<code>filter()</code>等迭代方法一样都会对数组每一项进行遍历，但是<code>reduce()</code>可同时将前面数组项遍历产生的结果与当前遍历项进行运算，这一点是其他迭代方法无法企及的。<br>相似的方法还有<code>reduceRight()</code>，该方法用法与reduce()其实是相同的，只是遍历的顺序相反，它是从数组的最后一项开始，向前遍历到第一项</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://chakinqin.github.io/2019/11/30/js%E4%B8%AD%E7%9A%84reduce-%E6%96%B9%E6%B3%95/" data-id="ck3la6bd20000c0tkcpe3hdtn"
         class="article-share-link">分享</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li></ul>

    </footer>

  </div>

  

  

</article>



      
        

<article id="post-js中的扩展运算符（spread）" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/2019/11/29/js%E4%B8%AD%E7%9A%84%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%88spread%EF%BC%89/">js中的扩展运算符（spread）...</a>
    </h2>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/2019/11/29/js%E4%B8%AD%E7%9A%84%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%88spread%EF%BC%89/" class="article-date">
  <time datetime="2019-11-29T07:44:28.000Z" itemprop="datePublished">2019-11-29</time>
</a>
        
  <div class="article-category">
    <a class="article-category-link" href="/categories/javascript/">javascript</a>
  </div>

      </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
        <h3 id="在函数调用的时候取代apply"><a href="#在函数调用的时候取代apply" class="headerlink" title="在函数调用的时候取代apply"></a>在函数调用的时候取代apply</h3>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">3</span>,<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x,y</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add.apply(<span class="literal">null</span>,arr);</span><br><span class="line">add(...arr);</span><br><span class="line"><span class="comment">// ...arr 返回的是arr的各个值 </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Math.max()</span></span><br><span class="line"><span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, [<span class="number">14</span>, <span class="number">3</span>, <span class="number">77</span>]) <span class="comment">// ES5 的写法</span></span><br><span class="line"><span class="built_in">Math</span>.max(...[<span class="number">14</span>, <span class="number">3</span>, <span class="number">77</span>]) <span class="comment">// ES6 的写法</span></span><br><span class="line"><span class="built_in">Math</span>.max(<span class="number">14</span>,<span class="number">4</span>,<span class="number">77</span>)</span><br></pre></td></tr></table></figure>
<h3 id="数组和对象的拷贝"><a href="#数组和对象的拷贝" class="headerlink" title="数组和对象的拷贝"></a>数组和对象的拷贝</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [...arr1];</span><br><span class="line">arr2.push(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr1 === arr2);  <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(arr1); <span class="comment">// [1,2,3]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr2);<span class="comment">// [1,2,3,4]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">  a:<span class="number">1</span>,</span><br><span class="line">  b:<span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;...obj1&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(obj2); <span class="comment">//&#123; a:1, b:2&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(obj1 === obj2);<span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>在这里你会发现，这是一个深拷贝，其实不然，实际上, 展开语法和 <code>Object.assign()</code> 行为一致, 执行的都是浅拷贝(只遍历一层)</p>
<h3 id="构造字面量数组"><a href="#构造字面量数组" class="headerlink" title="构造字面量数组"></a>构造字面量数组</h3><p>没有展开语法的时候，只能组合使用 <code>push</code>, <code>splice</code>, <code>concat</code> 等方法，来将已有数组元素变成新数组的一部分。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">4</span>,<span class="number">5</span>,...arr1];</span><br><span class="line"><span class="built_in">console</span>.log(arr2);  <span class="comment">// [4,5,1,2,3]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="keyword">var</span> demo = [...arr1,...arr2];</span><br><span class="line"><span class="built_in">console</span>.log(demo);  <span class="comment">//  [1, 2, 3, 4, 5, 6]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line">arr1 = [...arr2,...arr1];</span><br><span class="line"><span class="built_in">console</span>.log(arr1);  <span class="comment">//  [4, 5, 6, 1, 2, 3]</span></span><br></pre></td></tr></table></figure>
<h3 id="字符串转数组"><a href="#字符串转数组" class="headerlink" title="字符串转数组"></a>字符串转数组</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> txt = <span class="string">'hello'</span>;</span><br><span class="line"><span class="built_in">console</span>.log([...txt])   <span class="comment">//["h","e","l","l","o"]</span></span><br></pre></td></tr></table></figure>
<h3 id="用于传递不定参数"><a href="#用于传递不定参数" class="headerlink" title="用于传递不定参数"></a>用于传递不定参数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">funtion demo(...args)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> item <span class="keyword">of</span> args)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(item)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">demo(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)   <span class="comment">//1,2,3,4</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> demo = <span class="function"><span class="keyword">function</span> (<span class="params">a,...arg</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a);</span><br><span class="line">  <span class="built_in">console</span>.log(arg);</span><br><span class="line">&#125;</span><br><span class="line">demo(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// [2, 3, 4]</span></span><br></pre></td></tr></table></figure>
<h3 id="配合解构使用"><a href="#配合解构使用" class="headerlink" title="配合解构使用"></a>配合解构使用</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> [a,...rest] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="built_in">console</span>.log(rest);</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// [2,3,4]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  a:<span class="number">1</span>,</span><br><span class="line">  b:<span class="number">2</span>,</span><br><span class="line">  c:<span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> &#123;a,...demo&#125; = obj;</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="built_in">console</span>.log(demo);</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// &#123;b:2,c:3&#125;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">...[a, b, c]</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a);</span><br><span class="line">  <span class="keyword">return</span> a + b + c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(f(<span class="number">1</span>))          <span class="comment">//1, NaN </span></span><br><span class="line"><span class="built_in">console</span>.log(f(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>))   <span class="comment">// 1, 6</span></span><br><span class="line"><span class="built_in">console</span>.log(f(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)) <span class="comment">//1, 6</span></span><br></pre></td></tr></table></figure>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>等号表达式是典型的赋值形式，函数传参和<code>for</code>循环的变量都是特殊形式的赋值。<br>解构的原理是赋值的两边具有相同的结构，就可以正确取出数组或对象里面的元素或属性值，省略了使用下标逐个赋值的麻烦。<br>对于三个点号，三点放在形参或者等号左边为<code>rest</code>运算符; 放在实参或者等号右边为<code>spread</code>运算符，或者说，放在被赋值一方为<code>rest</code>运算符，放在赋值一方为扩展运算符。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://chakinqin.github.io/2019/11/29/js%E4%B8%AD%E7%9A%84%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%88spread%EF%BC%89/" data-id="ck3la6bdf0001c0tk544d8xli"
         class="article-share-link">分享</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li></ul>

    </footer>

  </div>

  

  

</article>



      
        

<article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/2019/11/12/hello-world/">Hello World</a>
    </h2>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/2019/11/12/hello-world/" class="article-date">
  <time datetime="2019-11-12T08:54:20.818Z" itemprop="datePublished">2019-11-12</time>
</a>
        
      </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://chakinqin.github.io/2019/11/12/hello-world/" data-id="ck3la6bdr0004c0tk5nsrckzb"
         class="article-share-link">分享</a>
      
    </footer>

  </div>

  

  

</article>



      
  </article>
  

  
</section>
</div>

  <footer class="footer">
  <div class="outer">
    <div class="float-right">
      <ul class="list-inline">
  
    <li><i class="fe fe-smile-alt"></i> <span id="busuanzi_value_site_uv"></span></li>
  
</ul>
    </div>
    <ul class="list-inline">
      <li>&copy; 2019 秦佳庆</li>
      <li>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></li>
      <li>Theme  <a href="https://github.com/zhwangart/hexo-theme-ocean" target="_blank" rel="noopener">Ocean</a></li>
    </ul>
  </div>
</footer>

</main>

  <aside class="sidebar">
    
    <button class="navbar-toggle"></button>
<nav class="navbar">
  
    <div class="logo">
      <a href="/"><img src="/images/hexo.svg" alt="秦佳庆"></a>
    </div>
  
  <ul class="nav nav-main">
    
      <li class="nav-item">
        <a class="nav-item-link" href="/">首页</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/archives">归档</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/gallery">相册</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/about">关于</a>
      </li>
    
    <li class="nav-item">
      <a class="nav-item-link nav-item-search" title="搜索">
        <i class="fe fe-search"></i>
        搜索
      </a>
    </li>
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      <div class="totop" id="totop">
  <i class="fe fe-rocket"></i>
</div>
    </li>
    <li class="nav-item">
      
        <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
          <i class="fe fe-feed"></i>
        </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
  </aside>
  <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/lazyload.min.js"></script>
<script src="/js/busuanzi-2.3.pure.min.js"></script>

  <script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/ocean.js"></script>

</body>
</html>